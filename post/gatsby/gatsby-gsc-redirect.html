<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/a15f2fce4b98b461-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/ff840cfebfb63b0c-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="https://velog.velcdn.com/images/corinthionia/post/fc045649-04f3-42c9-8415-0846dc626581/image.png"/><link rel="preload" as="image" href="https://velog.velcdn.com/images/corinthionia/post/2b426d94-fc4b-49bc-9025-fa917b731102/image.png"/><link rel="preload" as="image" href="https://velog.velcdn.com/images/corinthionia/post/464e4f10-9428-49e6-8564-a434227bc9f4/image.png"/><link rel="preload" as="image" href="https://velog.velcdn.com/images/corinthionia/post/c8ba078e-a233-408d-8bfd-ac006afade3b/image.png"/><link rel="preload" as="image" href="https://velog.velcdn.com/images/corinthionia/post/d8cb47a8-0abd-491a-99dc-ae490f25f8eb/image.png"/><link rel="stylesheet" href="/_next/static/css/d63a22f1046c7c17.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f1e6426317018917.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/55c8d1ef816f08fa.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-24bcbbc0cbb3bbcb.js"/><script src="/_next/static/chunks/1acbb86d-efb2e74c2b74ce20.js" async=""></script><script src="/_next/static/chunks/886-bb14d9967806ac84.js" async=""></script><script src="/_next/static/chunks/main-app-eadae1023591cf60.js" async=""></script><script src="/_next/static/chunks/943-00bda20aa4b030d5.js" async=""></script><script src="/_next/static/chunks/378-0044a6d389c6dd71.js" async=""></script><script src="/_next/static/chunks/app/layout-89a4f35a87f0ff82.js" async=""></script><script src="/_next/static/chunks/app/post/%5B...slug%5D/page-0bfb8e1109d8d02e.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-HWE2KDEH4W" as="script"/><title>Gatsby - Google Search Console의 색인 생성 문제 (리디렉션이 포함된 페이지) 해결하기 | Corinthionia</title><meta name="description" content="오래전부터 Google Search Console에 블로그를 등록했음에도 불구하고 생각보다 트래픽이 좋지 않았다. 페이지 색인이 생성되지 않아 발생한 문제였는데, 그중 [리디렉션이 포함된 페이지]를 이유로 많은 페이지들의 색인이 생성되지 않았다."/><meta name="application-name" content="Corinthionia"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"/><link rel="canonical" href="https://corinthionia.github.io"/><link rel="alternate" hrefLang="en-US" href="https://corinthionia.github.io/en-US"/><link rel="alternate" hrefLang="ko-KR" href="https://corinthionia.github.io/ko-KR"/><meta name="google-site-verification" content="yUSWYuB2Vp_rkwga3zPaQBERVNUHmls939PmQ7PY0VE"/><meta property="og:title" content="Gatsby - Google Search Console의 색인 생성 문제 (리디렉션이 포함된 페이지) 해결하기"/><meta property="og:description" content="오래전부터 Google Search Console에 블로그를 등록했음에도 불구하고 생각보다 트래픽이 좋지 않았다. 페이지 색인이 생성되지 않아 발생한 문제였는데, 그중 [리디렉션이 포함된 페이지]를 이유로 많은 페이지들의 색인이 생성되지 않았다."/><meta property="og:url" content="https://corinthionia.github.io/post/gatsby/gatsby-gsc-redirect"/><meta property="og:site_name" content="Corinthionia"/><meta property="og:locale" content="ko_KR"/><meta property="og:image" content="https://corinthionia.github.io/thumbnail/post/gatsby-gsc-redirect.webp"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2023-08-21T00:00:00.000Z"/><meta property="article:modified_time" content="2023-08-21T00:00:00.000Z"/><meta property="article:author" content="Corinthionia"/><meta property="article:author" content="Joohyun Kim"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Gatsby - Google Search Console의 색인 생성 문제 (리디렉션이 포함된 페이지) 해결하기"/><meta name="twitter:description" content="오래전부터 Google Search Console에 블로그를 등록했음에도 불구하고 생각보다 트래픽이 좋지 않았다. 페이지 색인이 생성되지 않아 발생한 문제였는데, 그중 [리디렉션이 포함된 페이지]를 이유로 많은 페이지들의 색인이 생성되지 않았다."/><meta name="twitter:image" content="https://corinthionia.github.io/thumbnail/post/gatsby-gsc-redirect.webp"/><link rel="icon" href="/favicon/favicon-96x96.png"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_f765bc"><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="header_wrapper__s_EeG"><div class="header_itemWrapper__9fC3I"><img alt="menu" loading="lazy" width="28" height="28" decoding="async" data-nimg="1" class="header_menu__6sC2D" style="color:transparent" src="/profile.svg"/><a href="/"><img alt="logo" loading="lazy" width="140" height="14" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/header_logo.09f5af74.svg"/></a><div class="header_right__0fZTX"><div class="header_menus__j6rfT"><a href="/post"><span>포스트</span></a><a href="/note"><span>노트</span></a><a href="/snippet"><span>코드조각</span></a></div><span class="header_border__SHp2_">|</span><img alt="theme" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" class="header_theme__5P_6H" style="color:transparent;cursor:pointer" src="/_next/static/media/dark.afa46c62.svg"/></div></div></div><div class="layout_layout__Qn9HX"><main class="layout_main__30FUz"><article class="post_wrapper__mMJiN"><header class="Header_header__98I8k"><h2 class="Header_title__ofzug">Gatsby - Google Search Console의 색인 생성 문제 (리디렉션이 포함된 페이지) 해결하기</h2><div class="Header_info__tcXpR"><a target="_blank" href="https://github.com/corinthionia"><span>@corinthionia</span></a><span>August 21, 2023</span></div></header><article class="mdx_mdx__fky_2"><p><img src="https://velog.velcdn.com/images/corinthionia/post/fc045649-04f3-42c9-8415-0846dc626581/image.png" alt=""/></p>
<p>오래전부터 Google Search Console에 블로그를 등록했음에도 불구하고 생각보다 트래픽이 좋지 않았다. 페이지 색인이 생성되지 않아 발생한 문제였는데, 그중 [리디렉션이 포함된 페이지]를 이유로 많은 페이지들의 색인이 생성되지 않았다.</p>
<p>[리디렉션이 포함된 페이지]는 사용자가 <code>a</code> 주소인 줄 알고 접속했는데, 결과적으로 <code>b</code> 주소로 접속하게 되었다는 것이다. 하지만 계속 확인해 봐도 변화를 모르겠어서 정말 몇 달을 고민했다 🫥</p>
<hr/>
<h1 id="1-원인-파악하기"><a aria-hidden="true" tabindex="-1" href="#1-원인-파악하기"><span class="icon icon-link"></span></a>1. 원인 파악하기</h1>
<p>우선 각 포스트의 썸네일을 클릭하면 아래 사진처럼 <code>record/modutime-record-first/</code> 로 사용자를 이동시킨다.<br/>
<img src="https://velog.velcdn.com/images/corinthionia/post/2b426d94-fc4b-49bc-9025-fa917b731102/image.png" alt=""/></p>
<p>그런데 sitemap을 확인해 보니 인식한 URL은 <code>record/modutime-record-first</code> 였다.<br/>
<img src="https://velog.velcdn.com/images/corinthionia/post/464e4f10-9428-49e6-8564-a434227bc9f4/image.png" alt=""/></p>
<br/>
<p>그래서 한번 확인해 보니, <code>a</code>로 접속을 했을 때, <code>a/</code>로 redirect 되는 것이었다! 결국 이 문제는 맨 뒤에 붙는 슬래시 하나 때문에 발생했던 것이다!!</p>
<hr/>
<h1 id="2-trailing-slash"><a aria-hidden="true" tabindex="-1" href="#2-trailing-slash"><span class="icon icon-link"></span></a>2. Trailing Slash</h1>
<p><a href="https://developers.google.com/search/blog/2010/04/to-slash-or-not-to-slash">Google Search Central - To slash or not to slash</a></p>
<p>URL의 맨 뒤에 붙는 이 슬래시를 <code>trailing slash</code>라고 한다. 만약 URL에 trailing slash가 있다면 <strong>일반적으로</strong> 리소스가 directory임을 의미하고, 없다면 file임을 의미한다.</p>
<p>이 trailing slash의 유무에 따라 다른 컨텐츠를 보여주는 것은 구글 검색엔진상으로는 허용되지만, 사용자에게 좋지 않은 방법이라고 한다. <code>www.google.com/webmasters</code>와 <code>www.google.com/webmasters/</code>가 각각 다른 내용을 보여준다면 사용자는 혼란을 느낄 수도 있기 때문이다.</p>
<br/>
<br/>
<p>만약 <code>a</code>와 <code>a/</code>가 보여주는 내용이 같고 하나의 URL 버전만 게재하고 싶다면 아래의 과정을 따른다.</p>
<ol>
<li><strong>두 URL 중 한 가지 방법을 선택한다.</strong>
<ul>
<li>만약 사이트에서 directory 구조를 사용한다면 <code>a/</code> 형태를 사용하는 것이 일반적이다.</li>
</ul>
</li>
<li><strong>사이트맵이 있다면 선호하는 버전의 URL을 표시하고, 중복 URL은 넣지 않는다.</strong></li>
<li><strong>301 리디렉션을 사용해 중복 URL에서 기본 버전으로 리디렉션 한다.</strong>
<ul>
<li><code>rel=&quot;canonical&quot;</code> 링크 태그를 이용할 수도 있다.</li>
</ul>
</li>
</ol>
<br/>
<p>자세한 내용은 <a href="https://developers.google.com/search/blog/2010/04/to-slash-or-not-to-slash">이 글</a>을 확인해 보면 좋을 것 같다.</p>
<hr/>
<h1 id="3-그래서-해결-방법은"><a aria-hidden="true" tabindex="-1" href="#3-그래서-해결-방법은"><span class="icon icon-link"></span></a>3. 그래서 해결 방법은?</h1>
<p>내 블로그에서는 directory 구조를 사용하기 때문에 <code>a/</code> 형태의 URL을 유지하는 게 맞다고 판단했다. 따라서 sitemap의 설정을 바꿔 주는 게 좀더 편리할 것 같았다.</p>
<p>여태까지 <code>gatsby-plugin-advanced-sitemap</code> 플러그인을 이용했었는데, 이를 제거하고 <code>gatsby-plugin-sitemap</code>을 이용했다.</p>
<p>먼저 플러그인을 설치해 준다.</p>
<pre class="language-bash"><code class="language-bash"><span class="code-line"><span class="token function">yarn</span> <span class="token function">add</span> gatsby-plugin-sitemap
</span></code></pre>
<p>그후 <code>gatsby-config.js</code>의 <code>plugin</code> 부분에 다음을 추가한다.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="code-line">module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">gatsby-plugin-sitemap</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<p>그 다음 프로젝트를 빌드하면 사이트맵이 생성된다!!<br/>
<!-- -->사이트맵을 확인해 보면 URL 뒤에 슬래시가 붙은 채로 생성된 것을 확인할 수 있다.<br/>
<img src="https://velog.velcdn.com/images/corinthionia/post/c8ba078e-a233-408d-8bfd-ac006afade3b/image.png" alt=""/></p>
<p>그후 Google Search Console에 들어가 새로운 사이트맵을 추가하고 색인이 생성되지 않은 페이지에 대해 색인 생성 요청을 하면 이제서야 정상적으로 색인이 생성된다!!<br/>
<img src="https://velog.velcdn.com/images/corinthionia/post/d8cb47a8-0abd-491a-99dc-ae490f25f8eb/image.png" alt=""/></p>
<hr/>
<h2 id="reference"><a aria-hidden="true" tabindex="-1" href="#reference"><span class="icon icon-link"></span></a>Reference</h2>
<ul>
<li><a href="https://developers.google.com/search/blog/2010/04/to-slash-or-not-to-slash">Google Search Central - To slash or not to slash</a></li>
<li><a href="https://pixelpoint.io/blog/gatsby-to-slash-or-not-to-slash/">Gatsby: to slash or not to slash?</a></li>
</ul></article><div class="post_border__2mweA"></div><section class="NeighborPost_section__3Chwg"><a href="/post/record/modutime-record-first"><div class="NeighborPost_wrapper__xy9hG"><span class="NeighborPost_top__IEtJN">← 이전 글</span><span class="NeighborPost_bottom__VY9zW">모두의 시간 서비스 개발 회고</span></div></a><a href="/post/nextjs/next-open-graph"><div class="NeighborPost_wrapper__xy9hG"><span class="NeighborPost_top__IEtJN">다음 글 →</span><span class="NeighborPost_bottom__VY9zW">NextJS 특정 페이지의 OG 태그 다르게 적용하기</span></div></a></section><section></section></article><div class="toc_wrapper__nwk_z"></div></main></div><footer class="footer_wrapper__PueMR">© Joohyun Kim (김주현) Corinthionia</footer><script src="/_next/static/chunks/webpack-24bcbbc0cbb3bbcb.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/a15f2fce4b98b461-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/ff840cfebfb63b0c-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/css/d63a22f1046c7c17.css\",\"style\"]\n4:HL[\"/_next/static/css/f1e6426317018917.css\",\"style\"]\n5:HL[\"/_next/static/css/55c8d1ef816f08fa.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"6:I[1630,[],\"\"]\n9:I[4311,[],\"\"]\nb:I[7357,[],\"\"]\nc:I[6501,[\"943\",\"static/chunks/943-00bda20aa4b030d5.js\",\"378\",\"static/chunks/378-0044a6d389c6dd71.js\",\"185\",\"static/chunks/app/layout-89a4f35a87f0ff82.js\"],\"\"]\nd:I[1080,[\"943\",\"static/chunks/943-00bda20aa4b030d5.js\",\"378\",\"static/chunks/378-0044a6d389c6dd71.js\",\"185\",\"static/chunks/app/layout-89a4f35a87f0ff82.js\"],\"ThemeProvider\"]\ne:I[6153,[\"943\",\"static/chunks/943-00bda20aa4b030d5.js\",\"378\",\"static/chunks/378-0044a6d389c6dd71.js\",\"185\",\"static/chunks/app/layout-89a4f35a87f0ff82.js\"],\"default\"]\n10:I[1048,[],\"\"]\na:[\"slug\",\"gatsby/gatsby-gsc-redirect\",\"c\"]\n11:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d63a22f1046c7c17.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f1e6426317018917.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L6\",null,{\"buildId\":\"VNjmST3KUwowe4Yl5ATkl\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/post/gatsby/gatsby-gsc-redirect\",\"initialTree\":[\"\",{\"children\":[\"post\",{\"children\":[[\"slug\",\"gatsby/gatsby-gsc-redirect\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"gatsby\\\",\\\"gatsby-gsc-redirect\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"post\",{\"children\":[[\"slug\",\"gatsby/gatsby-gsc-redirect\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L7\",\"$L8\"],null],null]},[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"post\",\"children\",\"$a\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/55c8d1ef816f08fa.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null]},[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"post\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_f765bc\",\"children\":[[[\"$\",\"$Lc\",null,{\"async\":true,\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-HWE2KDEH4W\"}],[\"$\",\"$Lc\",null,{\"id\":\"google-analytics\",\"children\":\"\\n            window.dataLayer = window.dataLayer || [];\\n            function gtag(){dataLayer.push(arguments);}\\n            gtag('js', new Date());\\n\\n            gtag('config', G-HWE2KDEH4W);\\n        \"}]],[\"$\",\"$Ld\",null,{\"children\":[[\"$\",\"$Le\",null,{}],[\"$\",\"div\",null,{\"className\":\"layout_layout__Qn9HX\",\"children\":[\"$\",\"main\",null,{\"className\":\"layout_main__30FUz\",\"children\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}]}],[\"$\",\"footer\",null,{\"className\":\"footer_wrapper__PueMR\",\"children\":\"© Joohyun Kim (김주현) Corinthionia\"}]]}]]}]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[false,\"$Lf\"],\"globalErrorComponent\":\"$10\",\"missingSlots\":\"$W11\"}]]\n"])</script><script>self.__next_f.push([1,"12:I[1943,[\"943\",\"static/chunks/943-00bda20aa4b030d5.js\",\"392\",\"static/chunks/app/post/%5B...slug%5D/page-0bfb8e1109d8d02e.js\"],\"\"]\n14:I[4598,[\"943\",\"static/chunks/943-00bda20aa4b030d5.js\",\"392\",\"static/chunks/app/post/%5B...slug%5D/page-0bfb8e1109d8d02e.js\"],\"default\"]\n15:I[5322,[\"943\",\"static/chunks/943-00bda20aa4b030d5.js\",\"392\",\"static/chunks/app/post/%5B...slug%5D/page-0bfb8e1109d8d02e.js\"],\"default\"]\n8:[[\"$\",\"article\",null,{\"className\":\"post_wrapper__mMJiN\",\"children\":[[\"$\",\"header\",null,{\"className\":\"Header_header__98I8k\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"Header_title__ofzug\",\"children\":\"Gatsby - Google Search Console의 색인 생성 문제 (리디렉션이 포함된 페이지) 해결하기\"}],[\"$\",\"div\",null,{\"className\":\"Header_info__tcXpR\",\"children\":[[\"$\",\"$L12\",null,{\"href\":\"https://github.com/corinthionia\",\"target\":\"_blank\",\"children\":[\"$\",\"span\",null,{\"children\":\"@corinthionia\"}]}],[\"$\",\"span\",null,{\"children\":\"August 21, 2023\"}]]}]]}],[\"$\",\"article\",null,{\"className\":\"mdx_mdx__fky_2\",\"children\":\"$L13\"}],[\"$\",\"div\",null,{\"className\":\"post_border__2mweA\"}],[\"$\",\"section\",null,{\"className\":\"NeighborPost_section__3Chwg\",\"children\":[[\"$\",\"$L12\",null,{\"href\":\"/post/record/modutime-record-first\",\"children\":[\"$\",\"div\",null,{\"className\":\"NeighborPost_wrapper__xy9hG\",\"children\":[[\"$\",\"span\",null,{\"className\":\"NeighborPost_top__IEtJN\",\"children\":\"← 이전 글\"}],[\"$\",\"span\",null,{\"className\":\"NeighborPost_bottom__VY9zW\",\"children\":\"모두의 시간 서비스 개발 회고\"}]]}]}],[\"$\",\"$L12\",null,{\"href\":\"/post/nextjs/next-open-graph\",\"children\":[\"$\",\"div\",null,{\"className\":\"NeighborPost_wrapper__xy9hG\",\"children\":[[\"$\",\"span\",null,{\"className\":\"NeighborPost_top__IEtJN\",\"children\":\"다음 글 →\"}],[\"$\",\"span\",null,{\"className\":\"NeighborPost_bottom__VY9zW\",\"children\":\"NextJS 특정 페이지의 OG 태그 다르게 적용하기\"}]]}]}]]}],[\"$\",\"$L14\",null,{}]]}],[\"$\",\"$L15\",null,{}]]\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Gatsby - Google Search Console의 색인 생성 문제 (리디렉션이 포함된 페이지) 해결하기 | Corinthionia\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"오래전부터 Google Search Console에 블로그를 등록했음에도 불구하고 생각보다 트래픽이 좋지 않았다. 페이지 색인이 생성되지 않아 발생한 문제였는데, 그중 [리디렉션이 포함된 페이지]를 이유로 많은 페이지들의 색인이 생성되지 않았다.\"}],[\"$\",\"meta\",\"4\",{\"name\":\"application-name\",\"content\":\"Corinthionia\"}],[\"$\",\"link\",\"5\",{\"rel\":\"manifest\",\"href\":\"/manifest.webmanifest\",\"crossOrigin\":\"use-credentials\"}],[\"$\",\"link\",\"6\",{\"rel\":\"canonical\",\"href\":\"https://corinthionia.github.io\"}],[\"$\",\"link\",\"7\",{\"rel\":\"alternate\",\"hrefLang\":\"en-US\",\"href\":\"https://corinthionia.github.io/en-US\"}],[\"$\",\"link\",\"8\",{\"rel\":\"alternate\",\"hrefLang\":\"ko-KR\",\"href\":\"https://corinthionia.github.io/ko-KR\"}],[\"$\",\"meta\",\"9\",{\"name\":\"google-site-verification\",\"content\":\"yUSWYuB2Vp_rkwga3zPaQBERVNUHmls939PmQ7PY0VE\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:title\",\"content\":\"Gatsby - Google Search Console의 색인 생성 문제 (리디렉션이 포함된 페이지) 해결하기\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:description\",\"content\":\"오래전부터 Google Search Console에 블로그를 등록했음에도 불구하고 생각보다 트래픽이 좋지 않았다. 페이지 색인이 생성되지 않아 발생한 문제였는데, 그중 [리디렉션이 포함된 페이지]를 이유로 많은 페이지들의 색인이 생성되지 않았다.\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:url\",\"content\":\"https://corinthionia.github.io/post/gatsby/gatsby-gsc-redirect\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:site_name\",\"content\":\"Corinthionia\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:locale\",\"content\":\"ko_KR\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image\",\"content\":\"https://corinthionia.github.io/thumbnail/post/gatsby-gsc-redirect.webp\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"17\",{\"property\":\"article:published_time\",\"content\":\"2023-08-21T00:00:00.000Z\"}],[\"$\",\"meta\",\"18\",{\"property\":\"article:modified_time\",\"content\":\"2023-08-21T00:00:00.000Z\"}],[\"$\",\"meta\",\"19\",{\"property\":\"article:author\",\"content\":\"Corinthionia\"}],[\"$\",\"meta\",\"20\",{\"property\":\"article:author\",\"content\":\"Joohyun Kim\"}],[\"$\",\"meta\",\"21\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"22\",{\"name\":\"twitter:title\",\"content\":\"Gatsby - Google Search Console의 색인 생성 문제 (리디렉션이 포함된 페이지) 해결하기\"}],[\"$\",\"meta\",\"23\",{\"name\":\"twitter:description\",\"content\":\"오래전부터 Google Search Console에 블로그를 등록했음에도 불구하고 생각보다 트래픽이 좋지 않았다. 페이지 색인이 생성되지 않아 발생한 문제였는데, 그중 [리디렉션이 포함된 페이지]를 이유로 많은 페이지들의 색인이 생성되지 않았다.\"}],[\"$\",\"meta\",\"24\",{\"name\":\"twitter:image\",\"content\":\"https://corinthionia.github.io/thumbnail/post/gatsby-gsc-redirect.webp\"}],[\"$\",\"link\",\"25\",{\"rel\":\"icon\",\"href\":\"/favicon/favicon-96x96.png\"}],[\"$\",\"meta\",\"26\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"7:null\n"])</script><script>self.__next_f.push([1,"13:[[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"https://velog.velcdn.com/images/corinthionia/post/fc045649-04f3-42c9-8415-0846dc626581/image.png\",\"alt\":\"\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"오래전부터 Google Search Console에 블로그를 등록했음에도 불구하고 생각보다 트래픽이 좋지 않았다. 페이지 색인이 생성되지 않아 발생한 문제였는데, 그중 [리디렉션이 포함된 페이지]를 이유로 많은 페이지들의 색인이 생성되지 않았다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[리디렉션이 포함된 페이지]는 사용자가 \",[\"$\",\"code\",null,{\"children\":\"a\"}],\" 주소인 줄 알고 접속했는데, 결과적으로 \",[\"$\",\"code\",null,{\"children\":\"b\"}],\" 주소로 접속하게 되었다는 것이다. 하지만 계속 확인해 봐도 변화를 모르겠어서 정말 몇 달을 고민했다 🫥\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h1\",null,{\"id\":\"1-원인-파악하기\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#1-원인-파악하기\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"1. 원인 파악하기\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"우선 각 포스트의 썸네일을 클릭하면 아래 사진처럼 \",[\"$\",\"code\",null,{\"children\":\"record/modutime-record-first/\"}],\" 로 사용자를 이동시킨다.\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"img\",null,{\"src\":\"https://velog.velcdn.com/images/corinthionia/post/2b426d94-fc4b-49bc-9025-fa917b731102/image.png\",\"alt\":\"\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"그런데 sitemap을 확인해 보니 인식한 URL은 \",[\"$\",\"code\",null,{\"children\":\"record/modutime-record-first\"}],\" 였다.\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"img\",null,{\"src\":\"https://velog.velcdn.com/images/corinthionia/post/464e4f10-9428-49e6-8564-a434227bc9f4/image.png\",\"alt\":\"\"}]]}],\"\\n\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"그래서 한번 확인해 보니, \",[\"$\",\"code\",null,{\"children\":\"a\"}],\"로 접속을 했을 때, \",[\"$\",\"code\",null,{\"children\":\"a/\"}],\"로 redirect 되는 것이었다! 결국 이 문제는 맨 뒤에 붙는 슬래시 하나 때문에 발생했던 것이다!!\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h1\",null,{\"id\":\"2-trailing-slash\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#2-trailing-slash\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"2. Trailing Slash\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://developers.google.com/search/blog/2010/04/to-slash-or-not-to-slash\",\"children\":\"Google Search Central - To slash or not to slash\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"URL의 맨 뒤에 붙는 이 슬래시를 \",[\"$\",\"code\",null,{\"children\":\"trailing slash\"}],\"라고 한다. 만약 URL에 trailing slash가 있다면 \",[\"$\",\"strong\",null,{\"children\":\"일반적으로\"}],\" 리소스가 directory임을 의미하고, 없다면 file임을 의미한다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"이 trailing slash의 유무에 따라 다른 컨텐츠를 보여주는 것은 구글 검색엔진상으로는 허용되지만, 사용자에게 좋지 않은 방법이라고 한다. \",[\"$\",\"code\",null,{\"children\":\"www.google.com/webmasters\"}],\"와 \",[\"$\",\"code\",null,{\"children\":\"www.google.com/webmasters/\"}],\"가 각각 다른 내용을 보여준다면 사용자는 혼란을 느낄 수도 있기 때문이다.\"]}],\"\\n\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"만약 \",[\"$\",\"code\",null,{\"children\":\"a\"}],\"와 \",[\"$\",\"code\",null,{\"children\":\"a/\"}],\"가 보여주는 내용이 같고 하나의 URL 버전만 게재하고 싶다면 아래의 과정을 따른다.\"]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"두 URL 중 한 가지 방법을 선택한다.\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"만약 사이트에서 directory 구조를 사용한다면 \",[\"$\",\"code\",null,{\"children\":\"a/\"}],\" 형태를 사용하는 것이 일반적이다.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"사이트맵이 있다면 선호하는 버전의 URL을 표시하고, 중복 URL은 넣지 않는다.\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"301 리디렉션을 사용해 중복 URL에서 기본 버전으로 리디렉션 한다.\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"rel=\\\"canonical\\\"\"}],\" 링크 태그를 이용할 수도 있다.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"자세한 내용은 \",[\"$\",\"a\",null,{\"href\":\"https://developers.google.com/search/blog/2010/04/to-slash-or-not-to-slash\",\"children\":\"이 글\"}],\"을 확인해 보면 좋을 것 같다.\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h1\",null,{\"id\":\"3-그래서-해결-방법은\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#3-그래서-해결-방법은\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"3. 그래서 해결 방법은?\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"내 블로그에서는 directory 구조를 사용하기 때문에 \",[\"$\",\"code\",null,{\"children\":\"a/\"}],\" 형태의 URL을 유지하는 게 맞다고 판단했다. 따라서 sitemap의 설정을 바꿔 주는 게 좀더 편리할 것 같았다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"여태까지 \",[\"$\",\"code\",null,{\"children\":\"gatsby-plugin-advanced-sitemap\"}],\" 플러그인을 이용했었는데, 이를 제거하고 \",[\"$\",\"code\",null,{\"children\":\"gatsby-plugin-sitemap\"}],\"을 이용했다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"먼저 플러그인을 설치해 준다.\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"yarn\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"add\"}],\" gatsby-plugin-sitemap\\n\"]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"그후 \",[\"$\",\"code\",null,{\"children\":\"gatsby-config.js\"}],\"의 \",[\"$\",\"code\",null,{\"children\":\"plugin\"}],\" 부분에 다음을 추가한다.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"module\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"exports\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"plugins\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"gatsby-plugin-sitemap\"}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"그 다음 프로젝트를 빌드하면 사이트맵이 생성된다!!\",[\"$\",\"br\",null,{}],\"\\n\",\"사이트맵을 확인해 보면 URL 뒤에 슬래시가 붙은 채로 생성된 것을 확인할 수 있다.\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"img\",null,{\"src\":\"https://velog.velcdn.com/images/corinthionia/post/c8ba078e-a233-408d-8bfd-ac006afade3b/image.png\",\"alt\":\"\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"그후 Google Search Console에 들어가 새로운 사이트맵을 추가하고 색인이 생성되지 않은 페이지에 대해 색인 생성 요청을 하면 이제서야 정상적으로 색인이 생성된다!!\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"img\",null,{\"src\":\"https://velog.velcdn.com/images/corinthionia/post/d8cb47a8-0abd-491a-99dc-ae490f25f8eb/image.png\",\"alt\":\"\"}]]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"reference\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#reference\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Reference\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://developers.google.com/search/blog/2010/04/to-slash-or-not-to-slash\",\"children\":\"Google Search Central - To slash or not to slash\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://pixelpoint.io/blog/gatsby-to-slash-or-not-to-slash/\",\"children\":\"Gatsby: to slash or not to slash?\"}]}],\"\\n\"]}]]\n"])</script></body></html>