<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/a15f2fce4b98b461-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/ff840cfebfb63b0c-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="https://velog.velcdn.com/images/corinthionia/post/a6e89888-037d-4c4a-9787-cde05bc963d4/image.png"/><link rel="stylesheet" href="/_next/static/css/d63a22f1046c7c17.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/9984ae2d53e44455.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/c3d89801d8524888.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/b1a9bc1363601fa9.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-90889ba8e7036f49.js"/><script src="/_next/static/chunks/1acbb86d-efb2e74c2b74ce20.js" async=""></script><script src="/_next/static/chunks/886-bb14d9967806ac84.js" async=""></script><script src="/_next/static/chunks/main-app-eadae1023591cf60.js" async=""></script><script src="/_next/static/chunks/943-00bda20aa4b030d5.js" async=""></script><script src="/_next/static/chunks/378-0044a6d389c6dd71.js" async=""></script><script src="/_next/static/chunks/app/layout-cbdab818f8f55c0d.js" async=""></script><script src="/_next/static/chunks/app/post/%5B...slug%5D/page-32b90493c9917848.js" async=""></script><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_f765bc"><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="Header_wrapper__seTP2"><div class="Header_itemWrapper__bpYR2"><img alt="menu" loading="lazy" width="28" height="28" decoding="async" data-nimg="1" class="Header_menu__t5XtG" style="color:transparent" src="/profile.svg"/><a href="/"><img alt="logo" loading="lazy" width="140" height="14" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/header_logo.09f5af74.svg"/></a><div class="Header_right__AJNjV"><div class="Header_menus__BxqTv"><a href="/post"><span>포스트</span></a><a href="/note"><span>노트</span></a><a href="/snippet"><span>코드조각</span></a></div><span class="Header_border__mqVUf">|</span><img alt="theme" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" class="Header_theme__g2lZL" style="color:transparent;cursor:pointer" src="/_next/static/media/dark.afa46c62.svg"/></div></div></div><div class="app_layout__Cl2eA"><div class="app_grid__9m74A"><main class="app_contents__RnFvu"><article class="PostLayout_wrapper__4Zx6Q"><header class="Header_header__KPaCf"><h2 class="Header_title__yFEr0">Tanstack query (React-query v4 도입하기)</h2><div class="Header_info__GOBJ7"><a target="_blank" href="https://github.com/corinthionia"><span>@corinthionia</span></a><span>August 5, 2023</span></div></header><main class="MDX_mdx__VyFNl"><p>쉽고 빠른 약속 정하기 <a href="https://www.modutime.site">⏰ 모두의 시간 🐰</a></p>
<p>내가 맡은 부분의 QA를 모두 해결하고 미뤄두었던 Tanstack query 도입을 진행했다. React query에 대해서 이전부터 많이 들어왔고, 또 많이 사용한다 하여 꼭 한번 사용해 보고 싶었는데, 다행히 여유 시간이 생겨 혼자 직접 도입해 볼 수 있었다!</p>
<p>⛓️ <a href="https://github.com/dnd-side-project/dnd-8th-5-frontend/pull/114">feat: tanstack-query 적용</a></p>
<hr/>
<h2 id="1-react-query"><a aria-hidden="true" tabindex="-1" href="#1-react-query"><span class="icon icon-link"></span></a>1. React query?</h2>
<p>React query <a href="https://tanstack.com/query/v3/docs/react/overview">공식문서</a>에 따르면, 전통적인 상태 관리 라이브러리들은 클라이언트 상태 관리에는 매우 유용하지만, <strong>비동기 상태나 서버 상태를 제대로 관리하지 못한다</strong>고 한다.</p>
<p>서버 상태 (Server State)란,</p>
<ul>
<li>제어하거나 소유하지 않는 위치에서 원격으로 유지됨</li>
<li>fetching과 updating을 위해 비동기 API가 필요함</li>
<li>공유 소유권을 의미하며 다른 사용자가 변경할 수 있음</li>
<li>주의하지 않을 경우 애플리케이션에서 &quot;오래된(out-of-date)&quot; 상태가 될 수 있음</li>
</ul>
<br/>
<p>간단하게 말하자면 클라이언트 상태는 굳이 DB에 저장하지 않아도 되는 state 값들을 의미하고, 서버 상태는 DB에 저장하여 서버로부터 가져온 값을 의미한다.</p>
<p>따라서 react query를 사용한다면, <code>서버 상태 가져오기</code>, <code>캐싱</code>, <code>동기화 및 업데이트</code>를 보다 쉽게 다룰 수 있다.</p>
<hr/>
<h2 id="2-프로젝트에-도입하기"><a aria-hidden="true" tabindex="-1" href="#2-프로젝트에-도입하기"><span class="icon icon-link"></span></a>2. 프로젝트에 도입하기</h2>
<h3 id="1-react-query-도입-이전"><a aria-hidden="true" tabindex="-1" href="#1-react-query-도입-이전"><span class="icon icon-link"></span></a>1) React Query 도입 이전</h3>
<p>React query 도입 이전에는, useEffect 내부에서 비동기 함수를 생성해 주고 get 요청을 통해 받아온 데이터를 state에 저장하는 방식을 사용했다.</p>
<pre class="language-typescript"><code class="language-typescript"><span class="code-line"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">getRoomInfo</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> instance<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/api/room/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>roomUUID<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">setRoom</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">getRoomInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>이와 같은 방법은 client state와 server state가 분리되지 않은 상태라고 할 수 있다. 왜냐하면 서버로부터 받아온 데이터를 client state인 <code>room</code>에 복사하여 저장하기 때문이다. 이럴 경우 예상치 못한 버그 등이 발생할 수 있기 때문에 더욱 react query의 도입이 필요했다.</p>
<h3 id="2-초기-세팅하기"><a aria-hidden="true" tabindex="-1" href="#2-초기-세팅하기"><span class="icon icon-link"></span></a>2) 초기 세팅하기</h3>
<pre class="language-bash"><code class="language-bash"><span class="code-line"><span class="token function">yarn</span> <span class="token function">add</span> @tanstack/react-query
</span></code></pre>
<p>설치가 완료되었으면, <code>index.tsx</code> 파일에서 초기 세팅을 진행한다.</p>
<pre class="language-typescript"><code class="language-typescript"><span class="code-line"><span class="token comment">// index.tsx</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> QueryClient<span class="token punctuation">,</span> QueryClientProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@tanstack/react-query&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> queryClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">root<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token operator">&lt;</span>QueryClientProvider client<span class="token operator">=</span><span class="token punctuation">{</span>queryClient<span class="token punctuation">}</span><span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token operator">&lt;</span><span class="token operator">/</span>QueryClientProvider<span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p><code>queryClient</code> 인스턴스를 생성하고, <code>QueryClientProvider</code>를 이용해 <code>App</code> 컴포넌트를 감싸 준다. 이때 <code>QueryClientProvider</code>의 <code>client</code> 값으로는 위에서 생성한 <code>queryClient</code>를 넣어준다.</p>
<h3 id="3-폴더-구분하기"><a aria-hidden="true" tabindex="-1" href="#3-폴더-구분하기"><span class="icon icon-link"></span></a>3) 폴더 구분하기</h3>
<p>먼저 나는 react query를 처음 사용해 보는 입장이었기 때문에, 보통 어떤 식으로 작성하는지 감을 잡기가 어려웠다. 따라서 여러 글들도 찾아보고, react query를 사용한 여러 프로젝트들의 코드를 살펴보면서 공통적으로 많이 사용하는 방식을 사용해 보았다.</p>
<ul>
<li><code>/api</code> query function - api 호출 함수들을 저장한다</li>
<li><code>/constants/QUERY_KEYS.ts</code> query key들을 constant로 저장한다</li>
<li><code>/queries</code> 커스텀 훅을 제작하여 useQuery 혹은 useMutation을 리턴한다</li>
</ul>
<h3 id="4-api-호출-함수-작성하기"><a aria-hidden="true" tabindex="-1" href="#4-api-호출-함수-작성하기"><span class="icon icon-link"></span></a>4) api 호출 함수 작성하기</h3>
<p>이전에 axios instance를 이용하여 api를 호출했던 방식과 비슷하게 작성해 주면 된다.</p>
<pre class="language-typescript"><code class="language-typescript"><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> instance <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;./instance&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> PostRoomTypes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@/types/roomInfo&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getRoomInfo</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>roomUUID<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> instance<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/api/room/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>roomUUID<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> data<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<p>위 코드는 <code>roomUUID</code>의 정보를 가지고 해당 방의 정보를 가져오는 함수이다. 이때! parameter 값으로 <code>roomUUID</code>를 사용했다는 것을 기억해 두자.</p>
<h3 id="5-query-key를-constant로-관리하기"><a aria-hidden="true" tabindex="-1" href="#5-query-key를-constant로-관리하기"><span class="icon icon-link"></span></a>5) Query key를 constant로 관리하기</h3>
<p>추후 유지보수성을 높이기 위해 query key 값들은 constant로 관리해 주었다!</p>
<pre class="language-typescript"><code class="language-typescript"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">QUERY_KEYS</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token constant">ROOM</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token constant">GET_ROOM_INFO</span><span class="token operator">:</span> <span class="token string">&#x27;get-room-info&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<h3 id="6-잠깐-usequery와-usemutation"><a aria-hidden="true" tabindex="-1" href="#6-잠깐-usequery와-usemutation"><span class="icon icon-link"></span></a>6) 잠깐! useQuery와 useMutation</h3>
<p>Custom hook을 작성하기 이전에 <code>useQuery</code>와 <code>useMutation</code>부터 알고 가는 게 좋다. 간단히 설명하자면, <code>useQuery</code>는 데이터를 받아올 때(get) 사용하고, <code>useMutation</code>은 값을 수정할 때(post, patch, put, ...) 사용한다.</p>
<p>더 간단히 설명하자면, CRUD 작업 중 <code>useQuery</code>는 R 작업에 사용하고, <code>useMutation</code>은 CUD 작업에 사용한다.</p>
<p>보다 자세한 설명은 아래에서 하겠다.</p>
<h3 id="7-1-usequery---custom-hooks-만들기"><a aria-hidden="true" tabindex="-1" href="#7-1-usequery---custom-hooks-만들기"><span class="icon icon-link"></span></a>7-1) useQuery - Custom hooks 만들기</h3>
<p><code>queries</code> 라는 새로운 폴더를 만들어 api 호출을 위한 custom hooks를 모아두었고, 각각 <code>useQuery</code> 또는 <code>useMutation</code>을 리턴한다.</p>
<pre class="language-typescript"><code class="language-typescript"><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useQuery <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@tanstack/react-query&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> getRoomInfo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../../api/room&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">QUERY_KEYS</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../../constants/QUERY_KEYS&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useGetRoomInfo</span> <span class="token operator">=</span> <span class="token punctuation">(</span>roomUUID<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">useQuery</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token constant">QUERY_KEYS</span><span class="token punctuation">.</span><span class="token constant">ROOM</span><span class="token punctuation">.</span><span class="token constant">GET_ROOM_INFO</span><span class="token punctuation">,</span> roomUUID<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">getRoomInfo</span><span class="token punctuation">(</span>roomUUID<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<p>먼저, <code>useQuery</code>의 첫 번째 파라미터에는 unique한 query key 값들이 들어가고, 두 번째 파라미터로 api 호출을 위한 비동기 함수가 들어간다. 이때 query key 값들로 비동기 함수의 parameter 값들까지 넣어 주어야 한다! 따라서 위에서 언급했던 대로 <code>roomUUID</code>도 query key 값으로 넘겨 준다.</p>
<p>또, <code>useQuery</code>는 비동기로 동작하기 때문에, 만약 여러 개의 비동기 쿼리가 존재한다면 <code>useQueries</code>를 사용하는 것이 더 좋다. 만약 동기적으로 동작하게 하고 싶다면, <code>useQuery</code>의 세 번째 인자로 option 값을 넘겨 줄 수 있는데, 여기에 <code>enabled</code>를 설정해 주면 된다.</p>
<h3 id="7-2-usemutation---custom-hooks-만들기"><a aria-hidden="true" tabindex="-1" href="#7-2-usemutation---custom-hooks-만들기"><span class="icon icon-link"></span></a>7-2) useMutation - Custom hooks 만들기</h3>
<pre class="language-typescript"><code class="language-typescript"><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useMutation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@tanstack/react-query&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createRoom <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@/api/room&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> PostRoomTypes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@/types/roomInfo&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useCreateRoom</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">useMutation</span><span class="token punctuation">(</span><span class="token punctuation">(</span>payload<span class="token operator">:</span> PostRoomTypes<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">createRoom</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<p><code>useQuery</code>와 크게 다를 건 없지만, 아무래도 <code>useMutation</code>는 값을 변경할 때 사용하다 보니 <code>payload</code> 값을 전달해 주어야 한다. 따라서 위와 같이 작성해 준다.</p>
<h3 id="8-1-usequery---custom-hooks-사용하기"><a aria-hidden="true" tabindex="-1" href="#8-1-usequery---custom-hooks-사용하기"><span class="icon icon-link"></span></a>8-1) useQuery - Custom hooks 사용하기</h3>
<pre class="language-typescript"><code class="language-typescript"><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> error<span class="token punctuation">,</span> isLoading<span class="token punctuation">,</span> isError<span class="token punctuation">,</span> isSuccess <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useGetRoomInfo</span><span class="token punctuation">(</span>roomUUID<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>위에서 작성한 <code>useGetRoomInfo</code> hook을 불러오고, 비구조화 할당을 통해 바로 변수에 값을 저장한다.</p>
<ul>
<li><code>data: TData</code> 말 그대로 서버로부터 받아온 데이터를 의미한다.</li>
<li><code>error: null | TError</code> 에러 발생 시 error object를 의미한다.</li>
<li><code>isLoading: boolean</code> 캐시된 데이터가 없거나 query 요청이 아직 끝나지 않았을 경우 true를 리턴한다.</li>
<li><code>isSuccess: boolean</code> 성공적으로 데이터를 받아온 경우 true를 리턴한다.</li>
<li><code>isError: boolean</code> 데이터를 받아오는 도중 에러가 발생했을 시 true를 리턴한다.</li>
</ul>
<h3 id="8-2-usemutation---custom-hooks-사용하기"><a aria-hidden="true" tabindex="-1" href="#8-2-usemutation---custom-hooks-사용하기"><span class="icon icon-link"></span></a>8-2) useMutation - Custom hooks 사용하기</h3>
<pre class="language-typescript"><code class="language-typescript"><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> mutate<span class="token punctuation">,</span> data<span class="token punctuation">,</span> isError<span class="token punctuation">,</span> isSuccess <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useCreateRoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>우선은 <code>useQuery</code>를 사용할 때와 마찬가지로 비구조화 할당을 통해 변수에 바로 할당해 준다.</p>
<pre class="language-typescript"><code class="language-typescript"><span class="code-line"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>isChecked<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">mutate</span><span class="token punctuation">(</span>room<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>isError<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#x27;오류가 발생했습니다.\n처음부터 다시 시도해 주세요&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>isSuccess<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">navigate</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>room<span class="token punctuation">,</span> isError<span class="token punctuation">,</span> isSuccess<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>그리고 <code>useEffect</code>를 이용하여 <code>isError</code>, <code>isSuccess</code>인 상태에 대해 처리를 해 주었다. 위에서처럼 <code>mutate()</code> 함수에 payload를 전달해 주면 된다.</p>
<hr/>
<h2 id="후기"><a aria-hidden="true" tabindex="-1" href="#후기"><span class="icon icon-link"></span></a>후기</h2>
<p>React query를 도입하고 나니, 데이터 요청이 필요한 컴포넌트에서는 확연하게 코드 수를 줄일 수 있다는 장점이 있었다. 하지만 아직 React query의 모든 기능을 알지 못하기에 조금 더 공부해 보고 익숙해지려고 한다.</p>
<p>마지막으로 혼자 직접 react query를 도입하고 프로젝트의 관련된 모든 부분을 변경했던 흔적,, ✨</p>
<p><img src="https://velog.velcdn.com/images/corinthionia/post/a6e89888-037d-4c4a-9787-cde05bc963d4/image.png" alt=""/></p>
<hr/>
<h2 id="reference"><a aria-hidden="true" tabindex="-1" href="#reference"><span class="icon icon-link"></span></a>Reference</h2>
<ul>
<li><a href="https://tanstack.com/query/v3/docs/react/overview">TanStack Query 공식문서</a></li>
<li><a href="https://kyounghwan01.github.io/blog/React/react-query/basic/#%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB-%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%B2">react-query 개념 및 정리</a></li>
<li><a href="https://github.com/ssi02014/react-query-tutorial">TanStack Query (aka. react auery)에서 자주 사용되는 개념 정리</a></li>
</ul></main><div class="Border_border__6p8Eq"></div><section class="NeighborPost_section__W5SYa"><a href="/post/etc/shadow-animation-afterimage"><div class="NeighborPost_wrapper__Ul1n3"><span class="NeighborPost_top__Kp4Hx">← 이전 글</span><span class="NeighborPost_bottom__pe5NX">모바일 환경에서 애니메이션 사용 시 잔상이 생길 때</span></div></a><a href="/post/bundler/webpack-to-vite"><div class="NeighborPost_wrapper__Ul1n3"><span class="NeighborPost_top__Kp4Hx">다음 글 →</span><span class="NeighborPost_bottom__pe5NX">CRA에서 Vite로 전환할 결심</span></div></a></section><section></section></article><div class="TOC_wrapper__ENCeM"></div></main></div></div><footer class="Footer_wrapper__r9Ps3">© Joohyun Kim (김주현) Corinthionia</footer><script src="/_next/static/chunks/webpack-90889ba8e7036f49.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/a15f2fce4b98b461-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/ff840cfebfb63b0c-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/css/d63a22f1046c7c17.css\",\"style\"]\n4:HL[\"/_next/static/css/9984ae2d53e44455.css\",\"style\"]\n5:HL[\"/_next/static/css/c3d89801d8524888.css\",\"style\"]\n6:HL[\"/_next/static/css/b1a9bc1363601fa9.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"7:I[1630,[],\"\"]\na:I[4311,[],\"\"]\nc:I[7357,[],\"\"]\nd:I[1080,[\"943\",\"static/chunks/943-00bda20aa4b030d5.js\",\"378\",\"static/chunks/378-0044a6d389c6dd71.js\",\"185\",\"static/chunks/app/layout-cbdab818f8f55c0d.js\"],\"ThemeProvider\"]\ne:I[2691,[\"943\",\"static/chunks/943-00bda20aa4b030d5.js\",\"378\",\"static/chunks/378-0044a6d389c6dd71.js\",\"185\",\"static/chunks/app/layout-cbdab818f8f55c0d.js\"],\"default\"]\n10:I[1048,[],\"\"]\nb:[\"slug\",\"frontend/tanstack-query-first\",\"c\"]\n11:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d63a22f1046c7c17.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/9984ae2d53e44455.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L7\",null,{\"buildId\":\"IzXiw_LDljfcvJBs7nDCw\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/post/frontend/tanstack-query-first\",\"initialTree\":[\"\",{\"children\":[\"post\",{\"children\":[[\"slug\",\"frontend/tanstack-query-first\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"frontend\\\",\\\"tanstack-query-first\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"post\",{\"children\":[[\"slug\",\"frontend/tanstack-query-first\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L8\",\"$L9\"],null],null]},[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"post\",\"children\",\"$b\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/c3d89801d8524888.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b1a9bc1363601fa9.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null]},[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"post\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[null,[\"$\",\"body\",null,{\"className\":\"__className_f765bc\",\"children\":[\"$\",\"$Ld\",null,{\"children\":[[\"$\",\"$Le\",null,{}],[\"$\",\"div\",null,{\"className\":\"app_layout__Cl2eA\",\"children\":[\"$\",\"div\",null,{\"className\":\"app_grid__9m74A\",\"children\":[\"$\",\"main\",null,{\"className\":\"app_contents__RnFvu\",\"children\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}]}]}],[\"$\",\"footer\",null,{\"className\":\"Footer_wrapper__r9Ps3\",\"children\":\"© Joohyun Kim (김주현) Corinthionia\"}]]}]}]]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[false,\"$Lf\"],\"globalErrorComponent\":\"$10\",\"missingSlots\":\"$W11\"}]]\n"])</script><script>self.__next_f.push([1,"12:I[1943,[\"943\",\"static/chunks/943-00bda20aa4b030d5.js\",\"392\",\"static/chunks/app/post/%5B...slug%5D/page-32b90493c9917848.js\"],\"\"]\n14:I[3174,[\"943\",\"static/chunks/943-00bda20aa4b030d5.js\",\"392\",\"static/chunks/app/post/%5B...slug%5D/page-32b90493c9917848.js\"],\"default\"]\n15:I[1612,[\"943\",\"static/chunks/943-00bda20aa4b030d5.js\",\"392\",\"static/chunks/app/post/%5B...slug%5D/page-32b90493c9917848.js\"],\"default\"]\n9:[[\"$\",\"article\",null,{\"className\":\"PostLayout_wrapper__4Zx6Q\",\"children\":[[\"$\",\"header\",null,{\"className\":\"Header_header__KPaCf\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"Header_title__yFEr0\",\"children\":\"Tanstack query (React-query v4 도입하기)\"}],[\"$\",\"div\",null,{\"className\":\"Header_info__GOBJ7\",\"children\":[[\"$\",\"$L12\",null,{\"href\":\"https://github.com/corinthionia\",\"target\":\"_blank\",\"children\":[\"$\",\"span\",null,{\"children\":\"@corinthionia\"}]}],[\"$\",\"span\",null,{\"children\":\"August 5, 2023\"}]]}]]}],[\"$\",\"main\",null,{\"className\":\"MDX_mdx__VyFNl\",\"children\":\"$L13\"}],[\"$\",\"div\",null,{\"className\":\"Border_border__6p8Eq\"}],[\"$\",\"section\",null,{\"className\":\"NeighborPost_section__W5SYa\",\"children\":[[\"$\",\"$L12\",null,{\"href\":\"/post/etc/shadow-animation-afterimage\",\"children\":[\"$\",\"div\",null,{\"className\":\"NeighborPost_wrapper__Ul1n3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"NeighborPost_top__Kp4Hx\",\"children\":\"← 이전 글\"}],[\"$\",\"span\",null,{\"className\":\"NeighborPost_bottom__pe5NX\",\"children\":\"모바일 환경에서 애니메이션 사용 시 잔상이 생길 때\"}]]}]}],[\"$\",\"$L12\",null,{\"href\":\"/post/bundler/webpack-to-vite\",\"children\":[\"$\",\"div\",null,{\"className\":\"NeighborPost_wrapper__Ul1n3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"NeighborPost_top__Kp4Hx\",\"children\":\"다음 글 →\"}],[\"$\",\"span\",null,{\"className\":\"NeighborPost_bottom__pe5NX\",\"children\":\"CRA에서 Vite로 전환할 결심\"}]]}]}]]}],[\"$\",\"$L14\",null,{}]]}],[\"$\",\"$L15\",null,{}]]\nf:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"2\",{\"name\":\"next-size-adjus"])</script><script>self.__next_f.push([1,"t\"}]]\n8:null\n"])</script><script>self.__next_f.push([1,"13:[[\"$\",\"p\",null,{\"children\":[\"쉽고 빠른 약속 정하기 \",[\"$\",\"a\",null,{\"href\":\"https://www.modutime.site\",\"children\":\"⏰ 모두의 시간 🐰\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"내가 맡은 부분의 QA를 모두 해결하고 미뤄두었던 Tanstack query 도입을 진행했다. React query에 대해서 이전부터 많이 들어왔고, 또 많이 사용한다 하여 꼭 한번 사용해 보고 싶었는데, 다행히 여유 시간이 생겨 혼자 직접 도입해 볼 수 있었다!\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"⛓️ \",[\"$\",\"a\",null,{\"href\":\"https://github.com/dnd-side-project/dnd-8th-5-frontend/pull/114\",\"children\":\"feat: tanstack-query 적용\"}]]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"1-react-query\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#1-react-query\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"1. React query?\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"React query \",[\"$\",\"a\",null,{\"href\":\"https://tanstack.com/query/v3/docs/react/overview\",\"children\":\"공식문서\"}],\"에 따르면, 전통적인 상태 관리 라이브러리들은 클라이언트 상태 관리에는 매우 유용하지만, \",[\"$\",\"strong\",null,{\"children\":\"비동기 상태나 서버 상태를 제대로 관리하지 못한다\"}],\"고 한다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"서버 상태 (Server State)란,\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"제어하거나 소유하지 않는 위치에서 원격으로 유지됨\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"fetching과 updating을 위해 비동기 API가 필요함\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"공유 소유권을 의미하며 다른 사용자가 변경할 수 있음\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"주의하지 않을 경우 애플리케이션에서 \\\"오래된(out-of-date)\\\" 상태가 될 수 있음\"}],\"\\n\"]}],\"\\n\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"간단하게 말하자면 클라이언트 상태는 굳이 DB에 저장하지 않아도 되는 state 값들을 의미하고, 서버 상태는 DB에 저장하여 서버로부터 가져온 값을 의미한다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"따라서 react query를 사용한다면, \",[\"$\",\"code\",null,{\"children\":\"서버 상태 가져오기\"}],\", \",[\"$\",\"code\",null,{\"children\":\"캐싱\"}],\", \",[\"$\",\"code\",null,{\"children\":\"동기화 및 업데이트\"}],\"를 보다 쉽게 다룰 수 있다.\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"2-프로젝트에-도입하기\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#2-프로젝트에-도입하기\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"2. 프로젝트에 도입하기\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"1-react-query-도입-이전\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#1-react-query-도입-이전\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"1) React Query 도입 이전\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"React query 도입 이전에는, useEffect 내부에서 비동기 함수를 생성해 주고 get 요청을 통해 받아온 데이터를 state에 저장하는 방식을 사용했다.\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useEffect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"getRoomInfo\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" data \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" instance\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"get\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"/api/room/\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"roomUUID\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"setRoom\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getRoomInfo\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"이와 같은 방법은 client state와 server state가 분리되지 않은 상태라고 할 수 있다. 왜냐하면 서버로부터 받아온 데이터를 client state인 \",[\"$\",\"code\",null,{\"children\":\"room\"}],\"에 복사하여 저장하기 때문이다. 이럴 경우 예상치 못한 버그 등이 발생할 수 있기 때문에 더욱 react query의 도입이 필요했다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"2-초기-세팅하기\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#2-초기-세팅하기\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"2) 초기 세팅하기\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"yarn\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"add\"}],\" @tanstack/react-query\\n\"]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"설치가 완료되었으면, \",[\"$\",\"code\",null,{\"children\":\"index.tsx\"}],\" 파일에서 초기 세팅을 진행한다.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// index.tsx\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" QueryClient\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" QueryClientProvider \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@tanstack/react-query'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" queryClient \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"QueryClient\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"root\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"render\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"QueryClientProvider client\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"queryClient\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"App \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"QueryClientProvider\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"queryClient\"}],\" 인스턴스를 생성하고, \",[\"$\",\"code\",null,{\"children\":\"QueryClientProvider\"}],\"를 이용해 \",[\"$\",\"code\",null,{\"children\":\"App\"}],\" 컴포넌트를 감싸 준다. 이때 \",[\"$\",\"code\",null,{\"children\":\"QueryClientProvider\"}],\"의 \",[\"$\",\"code\",null,{\"children\":\"client\"}],\" 값으로는 위에서 생성한 \",[\"$\",\"code\",null,{\"children\":\"queryClient\"}],\"를 넣어준다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"3-폴더-구분하기\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#3-폴더-구분하기\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"3) 폴더 구분하기\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"먼저 나는 react query를 처음 사용해 보는 입장이었기 때문에, 보통 어떤 식으로 작성하는지 감을 잡기가 어려웠다. 따라서 여러 글들도 찾아보고, react query를 사용한 여러 프로젝트들의 코드를 살펴보면서 공통적으로 많이 사용하는 방식을 사용해 보았다.\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"/api\"}],\" query function - api 호출 함수들을 저장한다\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"/constants/QUERY_KEYS.ts\"}],\" query key들을 constant로 저장한다\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"/queries\"}],\" 커스텀 훅을 제작하여 useQuery 혹은 useMutation을 리턴한다\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"4-api-호출-함수-작성하기\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#4-api-호출-함수-작성하기\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"4) api 호출 함수 작성하기\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"이전에 axios instance를 이용하여 api를 호출했던 방식과 비슷하게 작성해 주면 된다.\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" instance \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./instance'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" PostRoomTypes \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@/types/roomInfo'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"getRoomInfo\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"roomUUID\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" data \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" instance\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"get\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"/api/room/\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"roomUUID\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"위 코드는 \",[\"$\",\"code\",null,{\"children\":\"roomUUID\"}],\"의 정보를 가지고 해당 방의 정보를 가져오는 함수이다. 이때! parameter 값으로 \",[\"$\",\"code\",null,{\"children\":\"roomUUID\"}],\"를 사용했다는 것을 기억해 두자.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"5-query-key를-constant로-관리하기\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#5-query-key를-constant로-관리하기\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"5) Query key를 constant로 관리하기\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"추후 유지보수성을 높이기 위해 query key 값들은 constant로 관리해 주었다!\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"QUERY_KEYS\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROOM\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GET_ROOM_INFO\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'get-room-info'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"6-잠깐-usequery와-usemutation\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#6-잠깐-usequery와-usemutation\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"6) 잠깐! useQuery와 useMutation\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Custom hook을 작성하기 이전에 \",[\"$\",\"code\",null,{\"children\":\"useQuery\"}],\"와 \",[\"$\",\"code\",null,{\"children\":\"useMutation\"}],\"부터 알고 가는 게 좋다. 간단히 설명하자면, \",[\"$\",\"code\",null,{\"children\":\"useQuery\"}],\"는 데이터를 받아올 때(get) 사용하고, \",[\"$\",\"code\",null,{\"children\":\"useMutation\"}],\"은 값을 수정할 때(post, patch, put, ...) 사용한다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"더 간단히 설명하자면, CRUD 작업 중 \",[\"$\",\"code\",null,{\"children\":\"useQuery\"}],\"는 R 작업에 사용하고, \",[\"$\",\"code\",null,{\"children\":\"useMutation\"}],\"은 CUD 작업에 사용한다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"보다 자세한 설명은 아래에서 하겠다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"7-1-usequery---custom-hooks-만들기\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#7-1-usequery---custom-hooks-만들기\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"7-1) useQuery - Custom hooks 만들기\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"queries\"}],\" 라는 새로운 폴더를 만들어 api 호출을 위한 custom hooks를 모아두었고, 각각 \",[\"$\",\"code\",null,{\"children\":\"useQuery\"}],\" 또는 \",[\"$\",\"code\",null,{\"children\":\"useMutation\"}],\"을 리턴한다.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" useQuery \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@tanstack/react-query'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" getRoomInfo \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'../../api/room'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"QUERY_KEYS\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'../../constants/QUERY_KEYS'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"useGetRoomInfo\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"roomUUID\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useQuery\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"QUERY_KEYS\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROOM\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GET_ROOM_INFO\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" roomUUID\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getRoomInfo\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"roomUUID\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"먼저, \",[\"$\",\"code\",null,{\"children\":\"useQuery\"}],\"의 첫 번째 파라미터에는 unique한 query key 값들이 들어가고, 두 번째 파라미터로 api 호출을 위한 비동기 함수가 들어간다. 이때 query key 값들로 비동기 함수의 parameter 값들까지 넣어 주어야 한다! 따라서 위에서 언급했던 대로 \",[\"$\",\"code\",null,{\"children\":\"roomUUID\"}],\"도 query key 값으로 넘겨 준다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"또, \",[\"$\",\"code\",null,{\"children\":\"useQuery\"}],\"는 비동기로 동작하기 때문에, 만약 여러 개의 비동기 쿼리가 존재한다면 \",[\"$\",\"code\",null,{\"children\":\"useQueries\"}],\"를 사용하는 것이 더 좋다. 만약 동기적으로 동작하게 하고 싶다면, \",[\"$\",\"code\",null,{\"children\":\"useQuery\"}],\"의 세 번째 인자로 option 값을 넘겨 줄 수 있는데, 여기에 \",[\"$\",\"code\",null,{\"children\":\"enabled\"}],\"를 설정해 주면 된다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"7-2-usemutation---custom-hooks-만들기\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#7-2-usemutation---custom-hooks-만들기\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"7-2) useMutation - Custom hooks 만들기\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" useMutation \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@tanstack/react-query'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" createRoom \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@/api/room'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" PostRoomTypes \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@/types/roomInfo'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"useCreateRoom\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useMutation\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"payload\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" PostRoomTypes\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"createRoom\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"payload\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"useQuery\"}],\"와 크게 다를 건 없지만, 아무래도 \",[\"$\",\"code\",null,{\"children\":\"useMutation\"}],\"는 값을 변경할 때 사용하다 보니 \",[\"$\",\"code\",null,{\"children\":\"payload\"}],\" 값을 전달해 주어야 한다. 따라서 위와 같이 작성해 준다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"8-1-usequery---custom-hooks-사용하기\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#8-1-usequery---custom-hooks-사용하기\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"8-1) useQuery - Custom hooks 사용하기\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" error\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" isLoading\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" isError\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" isSuccess \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useGetRoomInfo\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"roomUUID\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"위에서 작성한 \",[\"$\",\"code\",null,{\"children\":\"useGetRoomInfo\"}],\" hook을 불러오고, 비구조화 할당을 통해 바로 변수에 값을 저장한다.\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"data: TData\"}],\" 말 그대로 서버로부터 받아온 데이터를 의미한다.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"error: null | TError\"}],\" 에러 발생 시 error object를 의미한다.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"isLoading: boolean\"}],\" 캐시된 데이터가 없거나 query 요청이 아직 끝나지 않았을 경우 true를 리턴한다.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"isSuccess: boolean\"}],\" 성공적으로 데이터를 받아온 경우 true를 리턴한다.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"isError: boolean\"}],\" 데이터를 받아오는 도중 에러가 발생했을 시 true를 리턴한다.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"8-2-usemutation---custom-hooks-사용하기\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#8-2-usemutation---custom-hooks-사용하기\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"8-2) useMutation - Custom hooks 사용하기\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" mutate\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" isError\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" isSuccess \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useCreateRoom\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"우선은 \",[\"$\",\"code\",null,{\"children\":\"useQuery\"}],\"를 사용할 때와 마찬가지로 비구조화 할당을 통해 변수에 바로 할당해 준다.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useEffect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"isChecked\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"mutate\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"room\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"isError\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"alert\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'오류가 발생했습니다.\\\\n처음부터 다시 시도해 주세요'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"isSuccess\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"navigate\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"room\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" isError\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" isSuccess\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"그리고 \",[\"$\",\"code\",null,{\"children\":\"useEffect\"}],\"를 이용하여 \",[\"$\",\"code\",null,{\"children\":\"isError\"}],\", \",[\"$\",\"code\",null,{\"children\":\"isSuccess\"}],\"인 상태에 대해 처리를 해 주었다. 위에서처럼 \",[\"$\",\"code\",null,{\"children\":\"mutate()\"}],\" 함수에 payload를 전달해 주면 된다.\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"후기\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#후기\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"후기\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"React query를 도입하고 나니, 데이터 요청이 필요한 컴포넌트에서는 확연하게 코드 수를 줄일 수 있다는 장점이 있었다. 하지만 아직 React query의 모든 기능을 알지 못하기에 조금 더 공부해 보고 익숙해지려고 한다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"마지막으로 혼자 직접 react query를 도입하고 프로젝트의 관련된 모든 부분을 변경했던 흔적,, ✨\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"https://velog.velcdn.com/images/corinthionia/post/a6e89888-037d-4c4a-9787-cde05bc963d4/image.png\",\"alt\":\"\"}]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"reference\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#reference\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Reference\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://tanstack.com/query/v3/docs/react/overview\",\"children\":\"TanStack Query 공식문서\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://kyounghwan01.github.io/blog/React/react-query/basic/#%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB-%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%B2\",\"children\":\"react-query 개념 및 정리\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/ssi02014/react-query-tutorial\",\"children\":\"TanStack Query (aka. react auery)에서 자주 사용되는 개념 정리\"}]}],\"\\n\"]}]]\n"])</script></body></html>